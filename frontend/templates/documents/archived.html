{% extends "base.html" %}
{% block title %}Archived - SmartDMS{% endblock %}
{% block content %}
<h1 class="h4 mb-3">Recycle Bin</h1>
<div class="card shadow-sm">
  <div class="card-body table-responsive">
    <table class="table align-middle mb-0">
      <thead>
        <tr>
          <th>Title</th>
          <th>Category</th>
          <th>Type</th>
          <th>Archived on</th>
          <th>Restore</th>
        </tr>
      </thead>
      <tbody>
        {% for doc in documents %}
        <tr>
          <td>{{ doc.title }}</td>
          <td>{{ doc.category or '-' }}</td>
          <td>{{ doc.file_type|upper if doc.file_type else '-' }}</td>
          <td>{{ doc.updated_at.strftime('%Y-%m-%d') }}</td>
          <td>
            <form method="post" action="{{ url_for('document.restore_view', document_id=doc.id) }}">
              <button class="btn btn-sm btn-success">Restore</button>
            </form>
          </td>
        </tr>
        {% else %}
        <tr><td colspan="5" class="text-muted">Recycle bin is empty.</td></tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}
