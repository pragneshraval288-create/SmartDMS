{# =========================
LEFT SIDEBAR COMPONENT
========================= #}

{% set ep = request.endpoint or '' %}

<div class="sdms-sidebar">

    <div class="sdms-sidebar-section">

        <!-- Dashboard -->
        <a href="{{ url_for('dashboard.index') }}"
            class="sdms-icon-btn {% if ep.startswith('dashboard.') %}sdms-icon-active{% endif %}">
            <i class="bi bi-speedometer2"></i>
            <span>Dashboard</span>
        </a>

        <!-- All Documents -->
        <a href="{{ url_for('document.list_documents') }}"
            class="sdms-icon-btn {% if ep.startswith('document.') and ep != 'document.upload' %}sdms-icon-active{% endif %}">
            <i class="bi bi-folder2-open"></i>
            <span>All Documents</span>
        </a>

        <!-- My Documents -->
        <a href="{{ url_for('document.my_documents') }}"
            class="sdms-icon-btn {% if ep == 'document.my_documents' %}sdms-icon-active{% endif %}">
            <i class="bi bi-person-vcard"></i>
            <span>My Documents</span>
        </a>

        <!-- Upload -->
        <a href="{{ url_for('document.upload') }}"
            class="sdms-icon-btn {% if ep == 'document.upload' %}sdms-icon-active{% endif %}">
            <i class="bi bi-cloud-arrow-up"></i>
            <span>Upload</span>
        </a>

        <div class="sdms-sidebar-divider"></div>

        <!-- Archive -->
        <a href="{{ url_for('archive.index') }}"
            class="sdms-icon-btn {% if ep.startswith('archive.') %}sdms-icon-active{% endif %}">
            <i class="bi bi-archive"></i>
            <span>Archive</span>
        </a>

        <!-- Sharing -->
        <a href="{{ url_for('sharing.index') }}"
            class="sdms-icon-btn {% if ep.startswith('sharing.') %}sdms-icon-active{% endif %}">
            <i class="bi bi-share"></i>
            <span>Sharing</span>
        </a>

        <!-- Favorites -->
        <a href="{{ url_for('favorites.index') }}"
            class="sdms-icon-btn {% if ep.startswith('favorites.') %}sdms-icon-active{% endif %}">
            <i class="bi bi-star"></i>
            <span>Favorites</span>
        </a>

        <!-- ðŸ—‘ï¸ RECYCLE BIN -->
        <a href="{{ url_for('recycle_bin.index') }}"
            class="sdms-icon-btn {% if ep.startswith('recycle_bin.') %}sdms-icon-active{% endif %}">
            <i class="bi bi-trash"></i>
            <span>Recycle Bin</span>
        </a>

        {% if current_user.is_admin or current_user.is_manager %}
        <div class="sdms-sidebar-divider"></div>

        <!-- Users -->
        <a href="{{ url_for('users.index') }}"
            class="sdms-icon-btn {% if ep.startswith('users.') %}sdms-icon-active{% endif %}">
            <i class="bi bi-people"></i>
            <span>Users</span>
        </a>

        <!-- Roles -->
        <a href="{{ url_for('roles.index') }}"
            class="sdms-icon-btn {% if ep.startswith('roles.') %}sdms-icon-active{% endif %}">
            <i class="bi bi-key"></i>
            <span>Roles</span>
        </a>

        <!-- Reports -->
        <a href="{{ url_for('reports.index') }}"
            class="sdms-icon-btn {% if ep.startswith('reports.') %}sdms-icon-active{% endif %}">
            <i class="bi bi-clipboard-data"></i>
            <span>Reports</span>
        </a>

        <!-- Approvals -->
        <a href="{{ url_for('approvals.index') }}"
            class="sdms-icon-btn {% if ep.startswith('approvals.') %}sdms-icon-active{% endif %}">
            <i class="bi bi-check2-circle"></i>
            <span>Approvals</span>
        </a>
        {% endif %}

        <div class="sdms-sidebar-divider"></div>

        <!-- Settings -->
        <a href="{{ url_for('settings.index') }}"
            class="sdms-icon-btn {% if ep.startswith('settings.') %}sdms-icon-active{% endif %}">
            <i class="bi bi-gear"></i>
            <span>Settings</span>
        </a>

        <!-- Storage -->
        <a href="{{ url_for('storage.index') }}"
            class="sdms-icon-btn {% if ep.startswith('storage.') %}sdms-icon-active{% endif %}">
            <i class="bi bi-hdd-network"></i>
            <span>Storage</span>
        </a>

        <!-- Security -->
        <a href="{{ url_for('security.index') }}"
            class="sdms-icon-btn {% if ep.startswith('security.') %}sdms-icon-active{% endif %}">
            <i class="bi bi-shield-lock"></i>
            <span>Security</span>
        </a>

        <!-- Notifications -->
        <a href="{{ url_for('notifications.index') }}"
            class="sdms-icon-btn {% if ep.startswith('notifications.') %}sdms-icon-active{% endif %}">
            <i class="bi bi-bell"></i>
            <span>Notifications</span>
        </a>

    </div>

    <!-- ===== BOTTOM USER + LOGOUT ===== -->
    <div class="sdms-sidebar-bottom">

        <div class="sdms-avatar-circle">
            {{ current_user.username[0]|upper }}
        </div>

        <a href="{{ url_for('auth.logout') }}" class="sdms-icon-btn">
            <i class="bi bi-box-arrow-right"></i>
            <span>Logout</span>
        </a>

    </div>

</div>